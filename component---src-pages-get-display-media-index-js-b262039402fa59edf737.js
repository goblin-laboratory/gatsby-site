(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{144:function(e,t,a){"use strict";a.r(t),function(e){a(34),a(77);var n=a(74),r=a.n(n),i=a(263),l=a.n(i),c=(a(229),a(265)),o=a.n(c),u=(a(76),a(0)),s=a.n(u),d=(a(154),a(266),a(412)),p=a(411),m=a(278),f=a(285),g=a(413),b=a(409),E=a(414),y=a(410),h=a(172),v=(a(202),a(165)),w=(a(267),function(e){if(e&&e.getTracks)try{e.getTracks().forEach(function(e){try{e.stop()}catch(t){}})}catch(t){}}),A=function(){var t=o()(l.a.mark(function t(a){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.navigator.mediaDevices.getDisplayMedia({video:a});case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",null);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}();t.default=p.a.create()(function(e){var t=e.form,a=s.a.useRef(null),n=s.a.useState(!1),i=n[0],l=n[1],c=s.a.useState(null),o=c[0],u=c[1],T=s.a.useState(null),C=T[0],x=T[1],S=s.a.useState(null),q=S[0],R=S[1];s.a.useEffect(function(){l(!0),x(null),o?A(o).then(function(e){x(e),l(!1)}):l(!1)},[o]),s.a.useEffect(function(){return R(null),C&&a&&a.current&&(a.current.srcObject=C),function(){w(C),R(null)}},[C]);var k=function(){w(C)};s.a.useEffect(function(){return window.addEventListener("beforeunload",k),function(){w(C),x(null),l(!1),window.removeEventListener("beforeunload",k)}},[]);return s.a.createElement(h.a,null,s.a.createElement(v.a,{title:"getDisplayMedia",keywords:["getDisplayMedia"]}),s.a.createElement("h1",null,"getDisplayMedia"),s.a.createElement("p",null,s.a.createElement("a",{href:"https://w3c.github.io/mediacapture-screen-share."},"参考文档")),s.a.createElement(d.a,{title:"参数",style:{marginBottom:16}},s.a.createElement(p.a,{onSubmit:function(e){e.preventDefault(),t.validateFieldsAndScroll(function(e,t){var a=t.resolution,n=r()(t,["resolution"]);if(!e){var i=a.split("x"),l=i[0],c=i[1];u(Object.assign({},n,{width:l,height:c}))}})}},s.a.createElement(m.a,{gutter:16},s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"分辨率",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("resolution",{initialValue:"1920x1080"})(s.a.createElement(g.a,null,["1920x1080","1280x720","960x540"].map(function(e){return s.a.createElement(g.a.Option,{value:e,key:e},e)}))))),s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"frameRate",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("frameRate",{initialValue:25})(s.a.createElement(g.a,null,[25,20,15].map(function(e){return s.a.createElement(g.a.Option,{value:e,key:e},e)}))))),s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"aspectRatio",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("aspectRatio",{initialValue:1.7777777777})(s.a.createElement(g.a,null,[1.7777777777,1.3333333333,.5625].map(function(e){return s.a.createElement(g.a.Option,{value:e,key:e},e)}))))),s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"resizeMode",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("resizeMode",{initialValue:"none"})(s.a.createElement(g.a,null,["none","crop-and-scale"].map(function(e){return s.a.createElement(g.a.Option,{value:e,key:e},e)}))))),s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"displaySurface",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("displaySurface",{initialValue:"monitor"})(s.a.createElement(g.a,null,["monitor","window","application","browser"].map(function(e){return s.a.createElement(g.a.Option,{value:e,key:e},e)}))))),s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"logicalSurface",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("logicalSurface",{initialValue:!1,valuePropName:"checked"})(s.a.createElement(b.a,null)))),s.a.createElement(f.a,{span:12},s.a.createElement(p.a.Item,{required:!0,label:"cursor",labelCol:{span:8},wrapperCol:{span:16}},t.getFieldDecorator("cursor",{initialValue:"never"})(s.a.createElement(g.a,null,["never","always","motion"].map(function(e){return s.a.createElement(g.a.Option,{value:e,key:e},e)}))))),s.a.createElement(f.a,{span:24},s.a.createElement(p.a.Item,{wrapperCol:{span:16,offset:4}},s.a.createElement(E.a,{type:"primary",htmlType:"submit",loading:i},"开始"),"    ",s.a.createElement(E.a,{type:"default",disabled:i||!C,onClick:function(){return u(null)}},"停止")))))),s.a.createElement(d.a,{title:"视频"},q&&s.a.createElement("div",null,"分辨率：",q.width,"x",q.height,"，",q.current.currentTime>q.last.currentTime&&s.a.createElement("span",null,"  实时帧率：",((q.current.frameCount-q.last.frameCount)/(q.current.currentTime-q.last.currentTime)).toFixed(2),"，"),q.current.currentTime&&s.a.createElement("span",null,"  平均帧率：",(q.current.frameCount/q.current.currentTime).toFixed(2)),s.a.createElement(y.a,null)),C&&s.a.createElement("video",{ref:a,autoPlay:!0,controls:!0,className:"video",onTimeUpdate:function(e){var t={frameCount:e.target.webkitDecodedFrameCount,currentTime:e.target.currentTime},a={width:e.target.videoWidth,height:e.target.videoHeight};q?1<t.currentTime-q.current.currentTime?(a.current=t,a.last=q.current):(a.current=q.current,a.last=q.last):(a.current=t,a.last=t),R(a)}})))})}.call(this,a(73))},154:function(e,t,a){"use strict";a.d(t,"b",function(){return s});var n=a(0),r=a.n(n),i=a(4),l=a.n(i),c=a(32),o=a.n(c);a.d(t,"a",function(){return o.a});a(157);var u=r.a.createContext({}),s=function(e){return r.a.createElement(u.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};s.propTypes={data:l.a.object,query:l.a.string.isRequired,render:l.a.func,children:l.a.func}},157:function(e,t,a){var n;e.exports=(n=a(164))&&n.default||n},163:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter"}}}}},164:function(e,t,a){"use strict";a.r(t);a(34);var n=a(0),r=a.n(n),i=a(4),l=a.n(i),c=a(57),o=a(2),u=function(e){var t=e.location,a=o.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(c.a,Object.assign({location:t,pageResources:a},a.json))};u.propTypes={location:l.a.shape({pathname:l.a.string.isRequired}).isRequired},t.default=u},165:function(e,t,a){"use strict";var n=a(166),r=a(0),i=a.n(r),l=a(4),c=a.n(l),o=a(186),u=a.n(o);function s(e){var t=e.description,a=e.lang,r=e.meta,l=e.keywords,c=e.title,o=n.data.site,s=t||o.siteMetadata.description;return i.a.createElement(u.a,{htmlAttributes:{lang:a},title:c,titleTemplate:"%s | "+o.siteMetadata.title,meta:[{name:"description",content:s},{property:"og:title",content:c},{property:"og:description",content:s},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:o.siteMetadata.author},{name:"twitter:title",content:c},{name:"twitter:description",content:s}].concat(l.length>0?{name:"keywords",content:l.join(", ")}:[]).concat(r)})}s.defaultProps={lang:"en",meta:[],keywords:[]},s.propTypes={description:c.a.string,lang:c.a.string,meta:c.a.array,keywords:c.a.arrayOf(c.a.string),title:c.a.string.isRequired},t.a=s},166:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter",description:"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.",author:"@gatsbyjs"}}}}},172:function(e,t,a){"use strict";var n=a(163),r=a(0),i=a.n(r),l=a(4),c=a.n(l),o=a(154),u=function(e){var t=e.siteTitle;return i.a.createElement("header",{style:{background:"rebeccapurple",marginBottom:"1.45rem"}},i.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"1.45rem 1.0875rem"}},i.a.createElement("h1",{style:{margin:0}},i.a.createElement(o.a,{to:"/",style:{color:"white",textDecoration:"none"}},t))))};u.propTypes={siteTitle:c.a.string},u.defaultProps={siteTitle:""};var s=u,d=(a(185),function(e){var t=e.children;return i.a.createElement(o.b,{query:"755544856",render:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(s,{siteTitle:e.site.siteMetadata.title}),i.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"0px 1.0875rem 1.45rem",paddingTop:0}},i.a.createElement("main",null,t),i.a.createElement("footer",null,"© ",(new Date).getFullYear(),", Built with"," ",i.a.createElement("a",{href:"https://www.gatsbyjs.org"},"Gatsby"))))},data:n})});d.propTypes={children:c.a.node.isRequired};t.a=d},202:function(e,t,a){"use strict";var n=a(203),r=a(0),i=a.n(r),l=a(154),c=a(204),o=a.n(c);t.a=function(){return i.a.createElement(l.b,{query:"2011440971",render:function(e){return i.a.createElement(o.a,{fluid:e.placeholderImage.childImageSharp.fluid})},data:n})}},203:function(e){e.exports={data:{placeholderImage:{childImageSharp:{fluid:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAACYklEQVQ4y42Uy28SQRjA+dM8efDmwYN6qF6qiSY+Y/WgQRMibY00TaWNBSRSCraYQtHl/bR0KyxQWCgWWAqU8izl/Sq7rLNsRHlVJpvJtzPfb77nDIOcZHSoqZSrp4+KtXIziubaLRysMCZiCYqOoVnhjNEi8RcztdxxeTzc6VBfT+5O2Vhpb+vw4wMdZ0ppWvP9xzLeJoDNThf2W+Nz1+XzNxQubSToSKKW+BDc+WOnkshhSVgeCiGpViZMEg1oxc26Knt+ae3bEtJTZwzE1kXLccG0+sOOlrcvZXvsczPkITfsa20vwIKnhsh+BnjUarT74Gb13CY7KBVJMv3z4N1NszQYsMWM62HNrCis/GxXn0iYls23uz5LPBcv0bH8hUH2XRoM85ySXv7JBtO87jMIvWq+H5GoYIHCLA1ZxD6Qap3Ak8IKfW7TJ50lK6uP9E6RgndHaODtCJ6Z5RyHfnE7j6gRbcKlCYNSt+rtETHTpUGgEP8FYmdNqd/Mo7aiVWTfuH2L9xASvfxxlqr01EYkrJszvNkgW9bH0OuFr+99m+y9IOeyU6zIp/Hubp/yMEztlzFPwOhdvq+nIoS1JNn4t2sugCmVsDvPe2KKolnZLCxhOcAKQRDDXTQaVi46lqYhIBwHTrl3oWqhMRDtaJge37lOBMKo4tfbqhVX0J7snTsWps8uZWuoOQY6CcjpSIF55UvmqNgr5wUwtV1IVdnXtnSfPEB2qjDNqnvczRl0m+j6Jn5lXb6nAQJqinmN0ZEBj03YLzghY8PnTRz80o/GRJZpOLCb0PM9BN7pvUEjx28V00WUg9jIVwAAAABJRU5ErkJggg==",aspectRatio:1,src:"/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/4465b/gatsby-astronaut.png",srcSet:"/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/48d69/gatsby-astronaut.png 75w,\n/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/500db/gatsby-astronaut.png 150w,\n/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/4465b/gatsby-astronaut.png 300w,\n/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/1b440/gatsby-astronaut.png 450w,\n/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/8d7dc/gatsby-astronaut.png 600w,\n/gatsby-site/static/6d91c86c0fde632ba4cd01062fd9ccfa/44689/gatsby-astronaut.png 800w",sizes:"(max-width: 300px) 100vw, 300px"}}}}}}}]);
//# sourceMappingURL=component---src-pages-get-display-media-index-js-b262039402fa59edf737.js.map